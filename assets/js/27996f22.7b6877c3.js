"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8444],{3952:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(6540),o=n(4446),c=n(8532),s=n(4922),i=n(9437),a=n(5034),l=n(4848);const u=(e,t,n,r)=>{const o=new s.eaF(new s.iNn(t,t,t),new s.tXL({color:1118481}));o.position.set(e.x*n,e.y*n,e.z*n),o.userData.coords={...e};const c=t/2+.01,i=(e,n,r)=>{const c=new s.eaF(new s.bdM(.8*t,.8*t),new s.V9B({color:e,side:s.$EB}));c.position.copy(n),c.rotation.set(r.x,r.y,r.z),o.add(c)};return 1===e.z&&i(r.front,new s.Pq0(0,0,c),new s.O9p(0,0,0)),-1===e.z&&i(r.back,new s.Pq0(0,0,-c),new s.O9p(0,Math.PI,0)),1===e.x&&i(r.right,new s.Pq0(c,0,0),new s.O9p(0,Math.PI/2,0)),-1===e.x&&i(r.left,new s.Pq0(-c,0,0),new s.O9p(0,-Math.PI/2,0)),1===e.y&&i(r.top,new s.Pq0(0,c,0),new s.O9p(-Math.PI/2,0,0)),-1===e.y&&i(r.bottom,new s.Pq0(0,-c,0),new s.O9p(Math.PI/2,0,0)),o},d=(e,t,n,r)=>{const o=new s.YJl;for(let c=-1;c<=1;c++)for(let s=-1;s<=1;s++)for(let i=-1;i<=1;i++){const a=u({x:c,y:s,z:i},e,t,n);r.push(a),o.add(a)}return o},p=()=>{const[e,t]=(0,r.useState)(!1),{colorMode:n}=(0,c.G)();if(!n)return null;const o=(0,r.useRef)(),u=(0,r.useRef)(),p=(0,r.useRef)(),f=(0,r.useRef)([]),h=(0,r.useRef)(),w=(0,r.useRef)(),b=.95,m={front:16777215,back:16776960,right:16711680,left:16744448,top:255,bottom:52224};(0,r.useEffect)((()=>{const e=o.current,t=new s.Z58;w.current=t,t.background=new s.Q1f("dark"===n?"#111111":"#ffffff");const r=new s.ubm(75,e.clientWidth/e.clientHeight,.1,1e3);r.position.set(0,0,6),u.current=r;const c=new i.JeP({antialias:!0});c.setSize(e.clientWidth,e.clientHeight),e.appendChild(c.domElement);const l=new a.V(r,c.domElement);l.rotateSpeed=4,l.noZoom=!0,l.panSpeed=.8,l.staticMoving=!0,l.dynamicDampingFactor=.3,p.current=l;const x=new s.$p8(16777215,.8);t.add(x);const g=new s.ZyN(16777215,.5);g.position.set(5,10,7.5),t.add(g);h.current=d(1,b,m,f.current),h.current.rotation.set(0,0,0),h.current.userData.initialRotation=h.current.rotation.clone(),t.add(h.current);const k=()=>{l.update(),c.render(t,r),requestAnimationFrame(k)};return k(),()=>{e.removeChild(c.domElement)}}),[]);const x=(e,t,n)=>{const r=w.current,o=f.current.filter((n=>{const r=n.userData.coords[e];return Math.round(r)===t-1})),c=new s.YJl;o.forEach((e=>{r.attach(e),c.attach(e)})),r.add(c);const i={x:new s.Pq0(1,0,0),y:new s.Pq0(0,1,0),z:new s.Pq0(0,0,1)}[e],a=Math.PI/2*(n?-1:1);let l=0;const u=performance.now(),d=e=>{const t=Math.min((e-u)/300,1),n=a*t,s=n-l;c.rotateOnAxis(i,s),l=n,t<1?requestAnimationFrame(d):(o.forEach((e=>{r.attach(e),h.current.attach(e);const t=e.position.clone().divideScalar(b).round();e.position.set(t.x*b,t.y*b,t.z*b),e.userData.coords={x:t.x,y:t.y,z:t.z},e.updateMatrixWorld()})),r.remove(c))};requestAnimationFrame(d)},g=(0,r.useRef)(null),k=(0,r.useRef)(!1),y=()=>{k.current&&(clearInterval(g.current),k.current=!1,t(!1))},P=(e,t,n,r,o,c)=>{const s=u.current,i=(p.current,performance.now()),a=l=>{const u=Math.min((l-i)/o,1),d=(e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2)(u);s.position.lerpVectors(e,t,d),s.up.lerpVectors(n,r,d),s.lookAt(0,0,0),u<1?requestAnimationFrame(a):c?.()};requestAnimationFrame(a)},q=e=>{const t={[m.front]:{pos:new s.Pq0(0,0,6),up:new s.Pq0(0,1,0)},[m.back]:{pos:new s.Pq0(0,0,-6),up:new s.Pq0(0,1,0)},[m.right]:{pos:new s.Pq0(6,0,0),up:new s.Pq0(0,1,0)},[m.left]:{pos:new s.Pq0(-6,0,0),up:new s.Pq0(0,1,0)},[m.top]:{pos:new s.Pq0(0,6,0),up:new s.Pq0(0,0,-1)},[m.bottom]:{pos:new s.Pq0(0,-6,0),up:new s.Pq0(0,0,1)}},n=t[e];if(!n)return;const r=u.current,o=p.current;o.enabled=!1;const c=(()=>{const e=u.current,t=new s.Pq0;e.getWorldDirection(t);const n={front:new s.Pq0(0,0,-1),back:new s.Pq0(0,0,1),right:new s.Pq0(-1,0,0),left:new s.Pq0(1,0,0),top:new s.Pq0(0,-1,0),bottom:new s.Pq0(0,1,0)};let r=null,o=-1/0;for(const[c,s]of Object.entries(n)){const e=t.dot(s);e>o&&(o=e,r=c)}return r})(),i=r.position.clone(),a=r.up.clone(),l=n.pos,d=n.up,f="front"===c&&e===m.back||"back"===c&&e===m.front?m.right:"right"===c&&e===m.left||"left"===c&&e===m.right?m.top:"top"===c&&e===m.bottom||"bottom"===c&&e===m.top?m.front:null;if(f){const n=t[f];P(i,n.pos,a,n.up,1500,(()=>{q(e)}))}else P(i,l,a,d,1500,(()=>{o.enabled=!0,o.update()}))},C=e=>`#${e.toString(16).padStart(6,"0")}`,j={width:"60px",height:"60px",backgroundColor:"white",border:"2px solid "+("dark"===n?"white":"black"),borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s",fontSize:"28px"};return(0,r.useEffect)((()=>{w.current&&(w.current.background=new s.Q1f("dark"===n?"#111111":"#ffffff"))}),[n]),(0,l.jsxs)("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[(0,l.jsx)("div",{ref:o,style:{width:"100%",height:"100%",cursor:"grab"},onMouseDown:e=>e.currentTarget.style.cursor="grabbing",onMouseUp:e=>e.currentTarget.style.cursor="grab"}),(0,l.jsxs)("div",{style:{position:"absolute",top:"50%",right:"50px",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,l.jsxs)("p",{style:{margin:0,textAlign:"center",fontSize:"16px",width:"fit-content",alignSelf:"center"},children:["Utiliza estos botones para",(0,l.jsx)("br",{}),"girar las caras del cubo"]}),[["z",2,m.front],["x",2,m.right],["y",2,m.top]].map((e=>{let[t,n,r]=e;return(0,l.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,l.jsx)("button",{onClick:()=>{y(),x(t,n,!1)},style:{...j,backgroundColor:"none"},children:"\u21ba"}),(0,l.jsx)("button",{style:{...j,backgroundColor:C(r)},onClick:()=>{y(),q(r)}}),(0,l.jsx)("button",{onClick:()=>{y(),x(t,n,!0)},style:{...j,backgroundColor:"none"},children:"\u21bb"})]},`${t}${n}`)})),[["x",0,m.left],["y",0,m.bottom],["z",0,m.back]].map((e=>{let[t,n,r]=e;return(0,l.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,l.jsx)("button",{onClick:()=>{y(),x(t,n,!0)},style:{...j,backgroundColor:"none"},children:"\u21ba"}),(0,l.jsx)("button",{style:{...j,backgroundColor:C(r)},onClick:()=>{y(),q(r)}}),(0,l.jsx)("button",{onClick:()=>{y(),x(t,n,!1)},style:{...j,backgroundColor:"none"},children:"\u21bb"})]},`${t}${n}`)})),(0,l.jsx)("button",{onClick:()=>{if(k.current)return clearInterval(g.current),k.current=!1,void t(!1);k.current=!0,t(!0);const e=[["x",0],["x",2],["y",0],["y",2],["z",0],["z",2]];g.current=setInterval((()=>{const[t,n]=e[Math.floor(Math.random()*e.length)],r=Math.random()>.5;x(t,n,r)}),750)},style:{marginTop:"1rem",padding:"1rem",fontSize:"16px",border:"2px solid "+("dark"===n?"white":"black"),borderRadius:"12px",backgroundColor:"transparent",color:"dark"===n?"white":"black",cursor:"pointer"},children:e?"Detener":"Revolver Cubo"}),(0,l.jsx)("button",{onClick:()=>{y();const e=w.current;h.current&&(e.remove(h.current),f.current.length=0,h.current=d(1,b,m,f.current),e.add(h.current))},style:{padding:"1rem",fontSize:"16px",border:"2px solid "+("dark"===n?"white":"black"),borderRadius:"12px",backgroundColor:"transparent",color:"dark"===n?"white":"black",cursor:"pointer"},children:"Reiniciar"})]})]})};function f(){return(0,l.jsx)(o.A,{title:"Rubik",description:"Cubo de Rubik interactivo",children:(0,l.jsx)("main",{children:(0,l.jsx)(p,{})})})}}}]);